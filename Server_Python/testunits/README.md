
# 各位都是怎么进行单元测试的？ - gashero的回答 - 知乎
> 按以下几个维度来
 https://www.zhihu.com/question/27313846/answer/120164282


级别： 
    1. Level1：正常流程可用，即一个函数在输入正确的参数时，会有正确的输出 
    2. Level2：异常流程可抛出逻辑异常，即输入参数有误时，不能抛出系统异常，而是用自己定义的逻辑异常通知上层调用代码其错误之处 
    3. Level3：极端情况和边界数据可用，对输入参数的边界情况也要单独测试，确保输出是正确有效的 
    4. Level4：所有分支、循环的逻辑走通，不能有任何流程是测试不到的 
    5. Level5：输出数据的所有字段验证，对有复杂数据结构的输出，确保每个字段都是正确的 
    一般只做到Level2，重要系统或者底层服务，要做到Level3或Level4。而很少做到Level5。

构造测试数据:
    必须分为 基础数据，与 附加数据
    + 基础数据 是所有testcase共享的，比如建立几个常用角色的用户等等
    + 附加数据是testcase内部自己建立的
    这样每次testcase运行时，先清空数据库，导入基础数据，导入附加数据，然后执行测试，验证结果

尽可能使用纯函数:
    + pure function: pure function 是数学上的函数，只有 single input、sinale ouput, 除此之外不会对系统状态有任何修改, 无副作用!
    + non-pure function: 其实更应该称之为 过程 producre,  除了输入，与输出，会对系统状态进行修改，有副作用！
    正因如此，副作用函数出bug的概率比纯函数高的多。
    所以，应该尽可能的把程序里的纯函数和副作用函数进行拆解，降低副作用函数的比例和逻辑复杂度。
    还有，副作用函数是会传染的，一个函数如果调用了副作用函数，那么它也会变成副作用函数。

测试情况：
    + 